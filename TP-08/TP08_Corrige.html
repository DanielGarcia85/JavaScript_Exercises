<div style="position: absolute; background-color:darkolivegreen; width:30px; height:30px; left:0; top:0"></div>
<div style="position: absolute; background-color:darkorange; width:30px; height:30px; left:0; top:0"></div>
<div style="position: absolute; background-color:tomato; width:30px; height:30px; left:0; top:0"></div>

<script>
    // Référence vers la div en déplacement
    let div = false;
    // Marges entre le bord de la div et le curseur
    let offsetX, offsetY;

    // Exercice 2
    const delai = 3000; 
    let tm;

    // Début du déplacement
    document.addEventListener('mousedown', evenement=>{
        if (evenement.target.nodeName==="DIV") {            
            div = evenement.target;
            // Calcul des marges
            offsetX = evenement.clientX - parseInt(div.style.left);
            offsetY = evenement.clientY - parseInt(div.style.top);
        }        
    })
    // Fin du déplacement
    document.addEventListener('mouseup', evenement=>{
        div = false;
    })

    // Mouvement du curseur
    document.addEventListener('mousemove', evenement=>{
        if (div) {
            // Déplacement de la div
            div.style.left = evenement.clientX - offsetX;
            div.style.top = evenement.clientY - offsetY;
            // Exercice 2: (re-)mettre un timer après chaque déplacement
            clearTimeout(tm);
            tm=setTimeout(_=>{
                // Délai échu, remettre toutes les div en 0,0
                Array.from(document.getElementsByTagName('div')).forEach(d=>{
                    d.style.left=0;
                    d.style.top=0;
                })
            }, delai)
        }

    })

</script>