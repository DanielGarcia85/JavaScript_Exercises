<script>

  // Exercice 2
  // Requête des utilisateurs
  fetch('https://jsonplaceholder.typicode.com/users/')
  .then(async res=>{
    let json = await res.json();
    console.log(json);
  })
  // Exercice 3
  // Requête des posts
  fetch('https://jsonplaceholder.typicode.com/posts/')
  .then(res=>res.json())
  .then(json =>{
    console.log(json);
  })

  // Exercice 4
  // Faire la requête des posts et utilisateurs
  // Ajouter les utilisateurs dans la structure des posts
  // Il faut créer un premier .all pour les fetch et un deuxième pour les .json()
  Promise.all([
    fetch('https://jsonplaceholder.typicode.com/users/'),
    fetch('https://jsonplaceholder.typicode.com/posts/'),
    ])
  .then(res=>Promise.all([res[0].json(), res[1].json()]))
  .then(([utilisateurs, posts])=>{
      posts.forEach(p=>p.utilisateur = utilisateurs.find(u=>u.id==p.userId))
      console.log(posts);
    })
</script>
